# Example Lab 2 Plan — Backend

**Lab:** Lab 2 — Vertical Slice Scaffold  
**Approved:** 2026-01-21 09:15

---

## Plan (Generated by Copilot, Reviewed by Human)

### Goal
Create a vertical slice scaffold for the Order Management domain with:
- Ping endpoint for health checks
- Orders endpoint stub with sample data
- Global exception handling with Problem Details

### Files to Create/Change

| File | Action | Purpose |
|------|--------|---------|
| `src/controllers/PingController.java` | Create | Health check endpoint |
| `src/controllers/OrderController.java` | Create | Order REST endpoints |
| `src/services/OrderService.java` | Create | Business logic layer |
| `src/models/Order.java` | Create | Order entity |
| `src/exceptions/GlobalExceptionHandler.java` | Create | Problem Details handler |
| `test/controllers/PingControllerTest.java` | Create | Unit test for ping |
| `test/controllers/OrderControllerIntegrationTest.java` | Create | Integration test |
| `test/services/OrderServiceTest.java` | Create | Service unit tests |

### Steps

1. **Step 1:** Create Order model with id, customerId, items, status
2. **Step 2:** Create OrderService with hardcoded sample data
3. **Step 3:** Create PingController and OrderController
4. **Step 4:** Create GlobalExceptionHandler for Problem Details
5. **Step 5:** Write tests for all endpoints

### Risks

| Risk | Mitigation |
|------|------------|
| Copilot may use field injection | Review and convert to constructor injection |
| May generate incorrect Problem Details format | Verify against RFC 7807 spec |
| Tests may not cover error cases | Explicitly add 404 test case |

### Tests to Add/Run

- `PingControllerTest.shouldReturnOkStatus()`
- `OrderControllerIntegrationTest.shouldReturnAllOrders()`
- `OrderControllerIntegrationTest.shouldReturn404WhenOrderNotFound()`
- `OrderServiceTest.shouldReturnSampleOrders()`

### Verification Commands

```bash
./mvnw clean test
./mvnw spring-boot:run
curl http://localhost:8080/api/ping
curl http://localhost:8080/api/orders
```

---

## Approval

✅ **Approved by:** Self-review  
✅ **Date:** 2026-01-21 09:15  
✅ **Notes:** Plan looks complete; added risk for constructor injection
